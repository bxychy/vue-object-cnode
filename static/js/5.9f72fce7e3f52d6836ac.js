webpackJsonp([5],{46:function(t,e,i){function o(t){i(70)}var a=i(3)(i(53),i(79),o,null,null);t.exports=a.exports},53:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{author:{},topics:{},replies:[],articleTop:!1,articleCommentText:"",articleCommentText1:"",curReplyId:"",contentName:""}},created:function(){this.getArticleDetail()},methods:{getArticleDetail:function(){var t=this;this.$http.get("/topic/"+this.$route.params.id,{params:{}}).then(function(e){t.author=e.data.data.author,t.topics=e.data.data,t.replies=e.data.data.replies}).catch(function(t){console.log(t)})},addReply:function(t,e){var i=this;this.curReplyId=t,this.contentName="@"+e+" ",console.log(this.articleCommentText1,t),t&&this.articleCommentText1&&this.contentName?(console.log("119",this.articleCommentText1,t,this.contentName),this.$http.post("/topic/"+this.$route.params.id+"/replies",{accesstoken:sessionStorage.getItem("configToken"),content:this.articleCommentText1+this.contentName,reply_id:t}).then(function(t){i.articleCommentText1="",i.getArticleDetail(),console.log(t.data),i.$refs.articleDetail.scrollTop=i.$refs.articleDetail.scrollHeight}).catch(function(t){console.log(t),i.$router.push({path:"/login"})})):this.articleCommentText&&(console.log("133",this.articleCommentText),this.$http.post("/topic/"+this.$route.params.id+"/replies",{accesstoken:sessionStorage.getItem("configToken"),content:this.articleCommentText}).then(function(t){i.articleCommentText="",i.getArticleDetail(),console.log(t.data),i.$refs.articleDetail.scrollTop=i.$refs.articleDetail.scrollHeight}).catch(function(t){console.log(t),i.$router.push({path:"/login"})}))},replyUps:function(t,e){var i=this;this.$http.post("/reply/"+t+"/ups",{accesstoken:sessionStorage.getItem("configToken")}).then(function(t){"up"==t.data.action?(e.target.classList.remove("icon-zan_light"),e.target.classList.add("icon-zan_fill")):"down"==t.data.action&&(e.target.classList.remove("icon-zan_fill"),e.target.classList.add("icon-zan_light")),i.getArticleDetail(),console.log(t.data)}).catch(function(t){console.log(t)})},articleDetailTop:function(t){var e=t.target.scrollTop;this.articleTop=e>100},goTop:function(){var t=this,e=setInterval(function(){var i=t.$refs.articleDetail.scrollTop,o=Math.floor(-i/6);t.$refs.articleDetail.scrollTop=i+o,0==i&&(clearInterval(e),t.articleTop=!1)})}}}},63:function(t,e,i){e=t.exports=i(44)(!0),e.push([t.i,'.article-detail{width:100%;height:100%;overflow-y:scroll;padding:5px 10px;box-sizing:border-box}.article-detail .article-title{border-bottom:1px solid #f0f0fe}.article-detail .article-title .article-title-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-line-pack:center;align-content:center}.article-detail .article-title .article-title-header span{color:#999;font-size:10px}.article-detail .article-title .article-title-titles{margin:6px auto}.article-detail .article-title .article-title-titles span{font-size:12px;display:inline-block}.article-detail .article-title .article-title-titles span:first-child{display:inline-block;width:auto;height:auto;padding:2px 5px;box-sizing:border-box;border-radius:3px;background:#80bd01;color:#fff}.article-detail .article-title .article-title-titles span:last-child{font-weight:700;color:#666}.article-detail .article-title .footer{color:#999;font-size:12px;margin-bottom:5px}.article-detail .article-title .footer span.dot:after,.article-detail .article-title .footer span:before{content:"\\2022"}.article-content{margin:10px auto;width:100%}blockquote{padding:0 0 0 15px;margin:0 0 20px;border-left:5px solid #eee;font-size:14px}.markdown-text p{font-size:15px;line-height:1.7em;overflow:auto;margin:1em auto}.article-content ul{padding-left:20px}.article-content li{font-size:14px;list-style:disc}.article-reply{border-top:1px solid #999;width:100%;padding-bottom:32px;box-sizing:border-box}.article-reply span.reply-altogether{display:block;width:100%;color:#666;margin:5px auto;font-size:14px}.article-reply .reply-content{width:100%;border-bottom:1px solid #dcdcdc}.reply-content-header{padding:4px 0;box-sizing:border-box;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.reply-content-header .author-avatar{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;text-align:center;line-height:30px;background:#f1f1f0}.reply-content-header .author-avatar,.reply-content-header .author-avatar img{width:30px;height:30px;border-radius:50%}.reply-content-header .name{margin-right:10px;margin-left:10px}.reply-content-header .floor,.reply-content-header .name{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;font-size:14px}.reply-content-header .floor{color:#08c}.reply-content-header .floor:after{content:"\\2022"}.reply-content-header .time{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;margin-left:10px;color:#08c;font-size:14px}.reply-content-header .icon{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:right;font-size:14px}.reply-content-header .addReply_icon{-webkit-box-flex:0.2;-ms-flex-positive:0.2;flex-grow:0.2;font-size:14px}.reply-content-header .icon span{margin:0}.reply-content-header .addReply_icon span{color:#000;opacity:.8;display:block;text-align:center}.reply-content-content{padding:4px 0;box-sizing:border-box}.reply-addReplyer textarea{display:block;width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid #d5dbdb;background-color:#fff;font-size:14px;padding:15px;color:#313131}.reply-addReplyer .button{display:inline-block;width:20%;height:35px;margin:15px 0;line-height:35px;color:#fff;font-size:16px;background-color:#08c;border:none;text-align:center;vertical-align:middle}.article-top{width:24px;color:gray;padding:12px 0 12px 5px;display:block;position:fixed;cursor:pointer;text-align:center;z-index:20;background-color:#fff;border-radius:12px 0 0 12px;bottom:60px;right:0;background-color:#f5f5f5;border:1px solid #ccc;border-right:0}.article-comment{position:fixed;bottom:0;width:100%;height:32px;margin-left:-10px;display:-webkit-box;display:-ms-flexbox;display:flex}.article-comment textarea{-ms-flex-preferred-size:75%;flex-basis:75%;width:75%;padding:5px;box-sizing:border-box;border:1px solid #dcdcdc;border-radius:0;box-shadow:none;outline:none;resize:none;overflow:auto}.article-comment input,.article-comment textarea{height:32px;-webkit-tap-highlight-color:transparent}.article-comment input{-ms-flex-preferred-size:25%;flex-basis:25%;width:25%;border:none;background:rgba(29,146,237,.5);color:#fff;border-radius:0;text-align:center}.article-comment input.active{background:#1d92ed;color:#fff}',"",{version:3,sources:["G:/My_object/VUE/vue-object-cnode/src/components/article/articleDetail.vue"],names:[],mappings:"AACA,gBAAgB,WAAY,YAAa,kBAAmB,iBAAkB,qBAAuB,CACpG,AACD,+BAA+B,+BAAgC,CAC9D,AACD,qDAAqD,oBAAqB,oBAAqB,aAAc,8BAA+B,6BAA8B,yBAA0B,qBAAsB,yBAA0B,sBAAuB,mBAAoB,yBAA0B,sBAAuB,8BAA+B,0BAA2B,oBAAsB,CAC/Z,AACD,0DAA0D,WAAY,cAAgB,CACrF,AACD,qDAAqD,eAAiB,CACrE,AACD,0DAA0D,eAAgB,oBAAsB,CAC/F,AACD,sEAAsE,qBAAsB,WAAY,YAAa,gBAAiB,sBAAuB,kBAAmB,mBAAoB,UAAY,CAC/M,AACD,qEAAqE,gBAAkB,UAAY,CAClG,AACD,uCAAuC,WAAY,eAAgB,iBAAmB,CACrF,AAED,yGAAyG,eAAY,CACpH,AAED,iBAAiB,iBAAkB,UAAY,CAC9C,AACD,WAAW,mBAAoB,gBAAiB,2BAA4B,cAAe,CAC1F,AACD,iBAAiB,eAAgB,kBAAmB,cAAe,eAAgB,CAClF,AACD,oBAAoB,iBAAkB,CACrC,AACD,oBAAoB,eAAgB,eAAgB,CACnD,AACD,eAAe,0BAA2B,WAAY,oBAAqB,qBAAuB,CACjG,AACD,qCAAqC,cAAe,WAAY,WAAY,gBAAiB,cAAgB,CAC5G,AACD,8BAA8B,WAAY,+BAAmC,CAC5E,AACD,sBAAsB,cAAe,sBAAuB,WAAY,oBAAqB,oBAAqB,aAAc,8BAA+B,6BAA8B,yBAA0B,qBAAsB,yBAA0B,sBAAuB,kBAAoB,CACjT,AACD,qCAAqC,mBAAoB,oBAAqB,YAAa,AAAyB,kBAAmB,iBAAkB,AAAmB,kBAAoB,CAC/L,AACD,8EAF2F,WAAY,YAAa,AAAqC,iBAAmB,CAG3K,AACD,4BAAkF,kBAAmB,gBAAkB,CACtH,AACD,yDAF4B,mBAAoB,oBAAqB,YAAa,AAAqC,cAAe,CAGrI,AADD,6BAAmF,UAAgB,CAClG,AAED,mCAAmC,eAAY,CAC9C,AACD,4BAA4B,mBAAoB,oBAAqB,YAAa,iBAAkB,WAAe,cAAe,CACjI,AACD,4BAA4B,mBAAoB,oBAAqB,YAAa,iBAAkB,cAAe,CAClH,AACD,qCAAqC,qBAAsB,sBAAuB,cAAe,cAAe,CAC/G,AACD,iCAAiC,QAAU,CAC1C,AAED,0CAA0C,WAAW,WAAW,cAAe,iBAAmB,CACjG,AACD,uBAAuB,cAAe,qBAAuB,CAC5D,AAGD,2BAA2B,cAAe,WAAY,mBAAoB,WAAY,OAAQ,yBAA0B,sBAAuB,eAAgB,aAAc,aAAe,CAC3L,AACD,0BAA0B,qBAAsB,UAAW,YAAa,cAAe,iBAAkB,WAAY,eAAgB,sBAAuB,YAAa,kBAAmB,qBAAuB,CAClN,AACD,aAAa,WAAY,WAAY,wBAAyB,cAAe,eAAgB,eAAgB,kBAAmB,WAAY,sBAAuB,4BAA6B,YAAY,QAAU,yBAA0B,sBAAuB,cAAgB,CACtR,AACD,iBAAiB,eAAgB,SAAU,WAAY,YAAa,kBAAmB,AAAa,oBAAqB,oBAAqB,YAAc,CAC3J,AACD,0BAA0B,4BAA6B,eAAgB,AAAa,UAAU,YAAa,sBAAuB,yBAA4B,gBAAiB,AAAyC,gBAAiB,aAAc,YAAa,aAAe,CAClR,AACD,iDAFuE,YAAa,AAA2F,uCAAyC,CAGvN,AADD,uBAAmC,4BAA6B,eAAgB,UAAU,YAAa,+BAAoC,WAAY,gBAAiB,AAAyC,iBAAkB,CAClO,AACD,8BAA8B,mBAAoB,UAAY,CAC7D",file:"articleDetail.vue",sourcesContent:['\n.article-detail{width: 100%;height: 100%;overflow-y: scroll;padding: 5px 10px;box-sizing: border-box;\n}\n.article-detail .article-title{border-bottom: 1px solid #f0f0fe\n}\n.article-detail .article-title .article-title-header{display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-orient: horizontal;-webkit-box-direction: normal;-ms-flex-flow: row nowrap;flex-flow: row nowrap;-webkit-box-align: center;-ms-flex-align: center;align-items: center;-webkit-box-pack: justify;-ms-flex-pack: justify;justify-content: space-between;-ms-flex-line-pack: center;align-content: center;\n}\n.article-detail .article-title .article-title-header span{color: #999;font-size: 10px;\n}\n.article-detail .article-title .article-title-titles{margin: 6px auto;\n}\n.article-detail .article-title .article-title-titles span{font-size: 12px;display: inline-block;\n}\n.article-detail .article-title .article-title-titles span:first-child{display: inline-block;width: auto;height: auto;padding: 2px 5px;box-sizing: border-box;border-radius: 3px;background: #80bd01;color: #fff;\n}\n.article-detail .article-title .article-title-titles span:last-child{font-weight: bold;color: #666;\n}\n.article-detail .article-title .footer{color: #999;font-size: 12px;margin-bottom: 5px;\n}\n/*.article-detail .article-title .footer span{margin-right: 15px;position:relative;}*/\n.article-detail .article-title .footer span:before,.article-detail .article-title .footer span.dot:after{content:"•";\n}\n/*.article-detail .article-title .footer span.dot:after{position: absolute;top: 6px;right: -10px;content: "";display: block;width: 4px;height: 4px;border-radius: 50%;background: #999;}*/\n.article-content{margin: 10px auto;width: 100%;\n}\nblockquote{padding: 0 0 0 15px;margin: 0 0 20px;border-left: 5px solid #eee;font-size:14px;\n}\n.markdown-text p{font-size: 15px;line-height: 1.7em;overflow: auto;margin:1em auto;\n}\n.article-content ul{padding-left:20px;\n}\n.article-content li{font-size: 14px;list-style:disc;\n}\n.article-reply{border-top: 1px solid #999;width: 100%;padding-bottom: 32px;box-sizing: border-box;\n}\n.article-reply span.reply-altogether{display: block;width: 100%;color: #666;margin: 5px auto;font-size: 14px;\n}\n.article-reply .reply-content{width: 100%;border-bottom: 1px solid gainsboro;\n}\n.reply-content-header{padding: 4px 0;box-sizing: border-box;width: 100%;display: -webkit-box;display: -ms-flexbox;display: flex;-webkit-box-orient: horizontal;-webkit-box-direction: normal;-ms-flex-flow: row nowrap;flex-flow: row nowrap;-webkit-box-align: center;-ms-flex-align: center;align-items: center;\n}\n.reply-content-header .author-avatar{-webkit-box-flex: 0;-ms-flex-positive: 0;flex-grow: 0;width: 30px;height: 30px;text-align: center;line-height: 30px;border-radius: 50%;background: #f1f1f0;\n}\n.reply-content-header .author-avatar img{width: 30px;height: 30px;border-radius: 50%;\n}\n.reply-content-header .name{-webkit-box-flex: 0;-ms-flex-positive: 0;flex-grow: 0;margin-right: 10px;margin-left: 10px;font-size:14px;\n}\n.reply-content-header .floor{-webkit-box-flex: 0;-ms-flex-positive: 0;flex-grow: 0;color:  #0088cc;font-size:14px;\n}\n/*.article-reply .reply-content .reply-content-header .floor:after{content:\'\';position: absolute;right:-8px;top:8px;background:  #0088cc;width: 5px;height: 5px;border-radius: 50%;}*/\n.reply-content-header .floor:after{content:"•";\n}\n.reply-content-header .time{-webkit-box-flex: 0;-ms-flex-positive: 0;flex-grow: 0;margin-left: 10px;color: #0088cc;font-size:14px;\n}\n.reply-content-header .icon{-webkit-box-flex: 1;-ms-flex-positive: 1;flex-grow: 1;text-align: right;font-size:14px;\n}\n.reply-content-header .addReply_icon{-webkit-box-flex: 0.2;-ms-flex-positive: 0.2;flex-grow: 0.2;font-size:14px;\n}\n.reply-content-header .icon span{margin: 0;\n}\n /*.reply-content-header .icon span:last-child{margin-left: 10px;}*/\n.reply-content-header .addReply_icon span{color:#000;opacity:.8;display: block;text-align: center;\n}\n.reply-content-content{padding: 4px 0;box-sizing: border-box;\n}\n.reply-addReplyer{\n}\n.reply-addReplyer textarea{display: block;width: 100%;-webkit-box-flex: 1;-ms-flex: 1;flex: 1;border: 1px solid #d5dbdb;background-color: #fff;font-size: 14px;padding: 15px;color: #313131;\n}\n.reply-addReplyer .button{display: inline-block;width: 20%;height: 35px;margin: 15px 0;line-height: 35px;color: #fff;font-size: 16px;background-color: #08c;border: none;text-align: center;vertical-align: middle;\n}\n.article-top{width: 24px;color: gray;padding: 12px 0 12px 5px;display: block;position: fixed;cursor: pointer;text-align: center;z-index: 20;background-color: #fff;border-radius: 12px 0 0 12px;bottom:60px;right:0px;background-color: #f5f5f5;border: 1px solid #ccc;border-right: 0;\n}\n.article-comment{position: fixed;bottom: 0;width: 100%;height: 32px;margin-left: -10px; /* Safari */display: -webkit-box;display: -ms-flexbox;display: flex;\n}\n.article-comment textarea{-ms-flex-preferred-size: 75%;flex-basis: 75%;height: 32px;width:75%;padding: 5px;box-sizing: border-box;border: 1px solid gainsboro;border-radius: 0;-webkit-tap-highlight-color: transparent;box-shadow: none;outline: none;resize: none;overflow: auto;\n}\n.article-comment input{height:32px;-ms-flex-preferred-size: 25%;flex-basis: 25%;width:25%;border: none;background: rgba(29, 146, 237, 0.5);color: #fff;border-radius: 0;-webkit-tap-highlight-color: transparent;text-align:center;\n}\n.article-comment input.active{background: #1d92ed;color: #fff;\n}\n'],sourceRoot:""}])},70:function(t,e,i){var o=i(63);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(45)("e4bcbb32",o,!0)},79:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"articleDetail",staticClass:"article-detail",on:{scroll:function(e){t.articleDetailTop(e)}}},[i("div",{staticClass:"article-detail-title"},[i("div",{staticClass:"article-title"},[i("div",{staticClass:"article-title-header"},[i("span",{staticClass:"author"},[t._v("\n\t\t\t\t\t\t作者 "+t._s(t.author.loginname)+"\n\t\t\t\t\t")]),t._v(" "),i("span",{staticClass:"origin"},[t._v("\n                \t\t来自："+t._s(t._f("getTabName")(t.topics.tab))+"\n                \t")])]),t._v(" "),i("div",{staticClass:"article-title-titles"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.topics.top||t.topics.good,expression:"topics.top || topics.good"}]},[t._v("\n\t                \t"+t._s(t._f("getTabName")(t.topics.tab,t.topics.top,t.topics.good))+"\n\t                ")]),t._v(" "),i("span",{staticClass:"title"},[t._v("\n\t                \t"+t._s(t.topics.title)+"\n\t                ")])]),t._v(" "),i("div",{staticClass:"footer"},[i("span",[t._v("\n\t            \t\t发布于"+t._s(t._f("getTime")(t.topics.create_at))+"\n\t            \t")]),t._v(" "),i("span",[t._v("\n\t            \t\t最后编辑于 "+t._s(t._f("getTime")(t.topics.last_reply_at))+"\n\t            \t")]),t._v(" "),i("span",{staticClass:"dot"},[t._v("\n\t            \t\t"+t._s(t.topics.visit_count)+"浏览\n\t            \t")])])])]),t._v(" "),i("div",{staticClass:"article-content"},[i("div",{domProps:{innerHTML:t._s(t.topics.content)}})]),t._v(" "),i("div",{staticClass:"article-reply"},[i("span",{staticClass:"reply-altogether"},[t._v("\n        \t\t"+t._s(t.replies.length)+"条回复\n        \t")]),t._v(" "),t._l(t.replies,function(e,o){return i("div",{staticClass:"reply-content"},[i("div",{staticClass:"reply-content-header"},[i("div",{staticClass:"author-avatar"},[i("img",{attrs:{src:e.author.avatar_url}})]),t._v(" "),i("div",{staticClass:"name"},[t._v("\n                        "+t._s(e.author.loginname)+"\n                    ")]),t._v(" "),i("div",{staticClass:"floor"},[t._v("\n                    \t"+t._s(o+1)+"楼\n                    ")]),t._v(" "),i("div",{staticClass:"time"},[t._v("\n                    \t"+t._s(t._f("getTime")(e.create_at))+"\n                    ")]),t._v(" "),i("div",{staticClass:"icon"},[i("span",{staticClass:"iconfont icon-zan_light",on:{click:function(i){t.replyUps(e.id,i)}}}),t._v(" "),i("span",[t._v(t._s(e.ups.length))])]),t._v(" "),i("div",{staticClass:"addReply_icon"},[i("span",{staticClass:"iconfont icon-huifu1",on:{click:function(i){t.addReply(e.id)}}})])]),t._v(" "),i("div",{staticClass:"reply-content-content",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),t.curReplyId===e.id?i("div",{staticClass:"reply-addReplyer"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.articleCommentText1,expression:"articleCommentText1"}],attrs:{placeholder:"输入回复内容"},domProps:{value:t.articleCommentText1},on:{input:function(e){e.target.composing||(t.articleCommentText1=e.target.value)}}}),t._v(" "),i("a",{staticClass:"button",on:{click:function(i){t.addReply(e.id,e.author.loginname)}}},[t._v("确定")])]):t._e()])})],2),t._v(" "),i("form",{staticClass:"article-comment"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.articleCommentText,expression:"articleCommentText"}],attrs:{placeholder:"输入回复内容"},domProps:{value:t.articleCommentText},on:{input:function(e){e.target.composing||(t.articleCommentText=e.target.value)}}}),t._v(" "),i("input",{staticClass:"btn",class:{active:t.articleCommentText.length},attrs:{disabled:!t.articleCommentText.length,value:"提交"},on:{click:function(e){t.addReply()}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.articleTop,expression:"articleTop"}],staticClass:"article-top",on:{click:t.goTop}},[t._v("回到顶部")])])},staticRenderFns:[]}}});
//# sourceMappingURL=5.9f72fce7e3f52d6836ac.js.map